<body class="text-white">
  <div
    class="flex h-screen bg-gray-50 dark:bg-gray-900 transition-colors"
    :class="{ 'overflow-hidden': isSideMenuOpen}"
  >
    <!--! ---------------------- Dashboard Aside ------------------------------>
    <%- include('../includes/dashboard-aside.ejs') %> <% if(error){ %>
    <p
      class="bg-red-500 py-2 px-3 rounded shadow remove-animation my-2 absolute left-5 top-28 z-40"
    >
      <%= error %>
    </p>
    <% } %>
    <div class="flex flex-col flex-1 z-50">
      <%- include('../includes/dashboard-header.ejs') %>
      <h1
        class="text-gray-500 dark:text-gray-50 p-5 text-xl"
        style="font-family: rajdhaniSemibold"
      >
        Update product
      </h1>
      <main class="h-full pb-16 overflow-y-auto">
        <div class="bg-gray-100 dark:bg-gray-800 mx-5 mt-10 rounded shadow">
          <form
            action="/admin/update-product/<%= oldId === undefined ? product._id : oldId %> "
            method="POST"
            class="flex flex-col items-center justify-centerp py-5"
          >
            <label class="text-gray-300 mb-1 block w-96">Image</label>
            <input
              type="file"
              name="image"
              class="w-96 mb-3 py-3 px-2 rounded bg-white text-white placeholder-gray-400 text-gray-400 dark:bg-gray-700 shadow text-sm outline-none focus:bg-gray-100 dark:focus:bg-gray-900 transition-colors <%= elementError.includes("image") ? "border border-red-500" : null %>"
            />
            <label class="text-gray-300 mb-1 block w-96">Name</label>
            <input
              type="text"
              name="name"
              value="<%= oldData !== undefined ? oldData.name : product.name%>"
              placeholder="New product name..."
              class="w-96 mb-3 py-3 px-2 rounded bg-white text-white placeholder-gray-400 text-gray-400 dark:bg-gray-700 shadow text-sm outline-none focus:bg-gray-100 dark:focus:bg-gray-900 transition-colors <%= elementError.includes('name') ? "border border-red-500" : null %>"
            />
            <label class="text-gray-300 mb-1 block w-96">Description</label>
            <textarea
              type="text"
              name="description"
              placeholder="New product description..."
              class="resize-none h-24 w-96 mb-3 py-3 px-2 rounded bg-white text-white placeholder-gray-400 text-gray-400 dark:bg-gray-700 shadow text-sm outline-none focus:bg-gray-100 dark:focus:bg-gray-900 transition-colors <%= elementError.includes('description') ? "border border-red-500" : null %>"
            ><%= oldData !== undefined ? oldData.name : product.description%></textarea>
            <label class="text-gray-300 mb-1 block w-96">Price</label>
            <input
              type="text"
              name="price"
              value="<%= oldData !== undefined ? oldData.price : product.price%>"
              placeholder="New product price..."
              class="w-96 mb-3 py-3 px-2 rounded bg-white text-white placeholder-gray-400 text-gray-400 dark:bg-gray-700 shadow text-sm outline-none focus:bg-gray-100 dark:focus:bg-gray-900 transition-colors <%= elementError.includes('price') ? "border border-red-500" : null %>"
            />
            <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
            <button
              type="submit"
              class="bg-purple-600 text-white rounded shadow py-2 px-4 transition-colors hover:bg-purple-900"
            >
              update
            </button>
          </form>
        </div>
      </main>
    </div>
  </div>
</body>
